<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>LazyKuma | 运维平台</title>

    <!-- Bootstrap -->
    <link href="/static/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="/static/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <!-- iCheck -->
    <link href="/static/vendors/iCheck/skins/flat/green.css" rel="stylesheet">
    <!-- bootstrap-progressbar -->
    <link href="/static/vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet">
    <!-- jVectorMap -->
    <link href="/static/css/maps/jquery-jvectormap-2.0.3.css" rel="stylesheet"/>

    <!-- Custom Theme Style -->
    <link href="/static/build/css/custom.min.css" rel="stylesheet">
    <!-- Set default chinese fonts -->
    <link rel="stylesheet" href="/static/img/main.css">
    <!--sweetAlert -->
    <link href="/static/vendors/alert/sweet-alert.css" rel="stylesheet">
    <!-- dataTables -->
    <link href="/static/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">



  </head>

  <body class="nav-md">
    <div class="container body">
      <div class="main_container">

        <!-- sidebar content -->
        <div class="col-md-3 left_col menu_fixed">
          <div class="left_col scroll-view">
            <div class="navbar nav_title" style="border: 0;">
              <a href="/" class="site_title"><i class="fa fa-tasks"></i> <span>运维作业平台</span></a>
            </div>

            <div class="clearfix"></div>

            <!-- menu profile quick info -->
            <div class="profile">
              <div class="profile_pic">
                <img src="/static/img/img.png" alt="..." class="img-circle profile_img">
              </div>
              <div class="profile_info">
                <span>Welcome,</span>
                <h2 id="username"></h2>
              </div>
            </div>
            <!-- /menu profile quick info -->

            <br />

            <!-- sidebar menu -->
            <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
              <div class="menu_section">
                <h3>管理员</h3>
                <p> &nbsp </p>

                <ul class="nav side-menu">

                  <li>
                    <a href="/dashboard/show"><i  class="fa fa-tachometer"></i> 仪表盘 </a>
                  </li>

                  <li>
                    <a><i class="fa fa-home"></i> 用户管理 <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="/user/userinfo">个人中心</a></li>
                      <li><a href="/user/userlist">用户列表</a></li>
                    </ul>
                  </li>

                  <li>
                    <a><i class="fa fa-inbox"></i> 资产管理 <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="/server/list">设备列表</a></li>
                      <li><a href="/server/listStatus">设备状态</a></li>
                      <li><a href="/server/add">添加设备</a></li>
                    </ul>
                  </li>

                  <li>
                    <a><i class="fa fa-heartbeat"></i> 监控展示 <span class="fa fa-chevron-down"></span></a>
                    <ul class="nav child_menu">
                      <li><a href="#">ZABBIX</a></li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
        <!-- /sidebar menu -->
          </div>
        </div>
        <!-- /sidebar content -->

        <!-- top navigation -->
        <div class="top_nav">
          <div class="nav_menu">
            <nav class="" role="navigation">
              <div class="nav toggle">
                <a id="menu_toggle"><i class="fa fa-bars"></i></a>
              </div>

              <ul class="nav navbar-nav navbar-right">
                <li class="">
                  <a href="/user/logout">
                        <i class="fa fa-sign-out"></i>Logout
                  </a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main">
          <div class="">
             <div class="row top_tiles">

<!-- 展示block -->
        <!-- top1 -->
        <div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12">
            <div class="tile-stats">
                  <div class="count" style="color:lightskyblue" align="center">{{ info.userSum }}</div>
                  <h3 align="center">用户总数</h3>
            </div>
        </div>
        <!-- /top1 -->

        <!-- top2 -->
        <div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12">
            <div class="tile-stats">
                  <div class="count" style="color:lightskyblue" align="center">{{ info.serverSum }}</div>
                  <h3 align="center">设备总数</h3>
            </div>
        </div>
        <!-- /top2 -->

        <!-- top3 -->
        <div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12">
            <div class="tile-stats">
                  <div class="count" style="color:lightgreen" align="center">{{ info.serverRunning }}</div>
                  <h3 align="center">运行中</h3>
            </div>
        </div>
        <!-- /top3 -->

        <!-- top4 -->
        <div class="animated flipInY col-lg-3 col-md-3 col-sm-6 col-xs-12">
            <div class="tile-stats">
                  <div class="count" style="color:lightcoral" align="center">{{ info.serverDown }}</div>
                  <h3 align="center">已关机</h3>
            </div>
        </div>
        <!-- /top4 -->
      </div><!-- row top_tiles -->

      <!-- big row -->
      <div class="row">
          <!-- main_fail dom-->
          <div class="col-md-8 col-sm-8 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>故障统计</h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul class="dropdown-menu" role="menu">
                          <li><a href="#">Settings 1</a>
                          </li>
                          <li><a href="#">Settings 2</a>
                          </li>
                        </ul>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">

                    <div id="main_fail" style="height:350px;"></div>

                  </div>
                </div>
          </div>
          <!-- main_fail dom-->

          <!-- main_alarm dom-->
          <div class="col-md-4 col-sm-4 col-xs-12">
              <div class="x_panel">
                  <div class="x_title">
                    <h2>监控告警统计</h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul class="dropdown-menu" role="menu">
                          <li><a href="#">Settings 1</a>
                          </li>
                          <li><a href="#">Settings 2</a>
                          </li>
                        </ul>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div> <!-- x_title -->
                  <div class="x_content">

                    <div id="main_alarm" style="height:350px;"></div>

                  </div>
              </div> <!-- x_panel -->
          </div>
          <!-- main_alarm dom-->

          <!-- main_fail_classify dom-->
          <div class="col-md-4 col-sm-4 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>故障分类</h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul class="dropdown-menu" role="menu">
                          <li><a href="#">Settings 1</a>
                          </li>
                          <li><a href="#">Settings 2</a>
                          </li>
                        </ul>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">

                    <div id="main_fail_classify" style="height:350px;"></div>

                  </div>
                </div>
          </div>
          <!-- main_fail_classify dom-->

          <!-- main_publish dom-->
          <div class="col-md-4 col-sm-4 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>版本发布情况</h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul class="dropdown-menu" role="menu">
                          <li><a href="#">Settings 1</a>
                          </li>
                          <li><a href="#">Settings 2</a>
                          </li>
                        </ul>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">

                    <div id="main_publish" style="height:350px;"></div>

                  </div>
                </div>
          </div>
          <!-- main_publish dom-->

          <!-- main_publish_sum dom-->
          <div class="col-md-4 col-sm-4 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>发布统计</h2>
                    <ul class="nav navbar-right panel_toolbox">
                      <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                      </li>
                      <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-wrench"></i></a>
                        <ul class="dropdown-menu" role="menu">
                          <li><a href="#">Settings 1</a>
                          </li>
                          <li><a href="#">Settings 2</a>
                          </li>
                        </ul>
                      </li>
                      <li><a class="close-link"><i class="fa fa-close"></i></a>
                      </li>
                    </ul>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">

                    <div id="main_publish_sum" style="height:350px;"></div>

                  </div>
                </div>
          </div>
          <!-- main_publish_sum dom-->

      </div> <!-- /row -->
      <!-- /big row>
<!-- /展示block -->

          </div>
        </div>
        <!-- /page content -->


        <!-- footer content -->
        <footer>
          <div class="pull-right">
            LazyKuma - 运维作业平台
          </div>
          <div class="clearfix"></div>
        </footer>
        <!-- /footer content -->
      </div>
    </div>

    <!-- jQuery -->
    <script src="/static/vendors/jquery/dist/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="/static/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <script src="/static/vendors/fastclick/lib/fastclick.js"></script>
    <!-- NProgress -->
    <script src="/static/vendors/nprogress/nprogress.js"></script>
    <!-- Chart.js -->
    <script src="/static/vendors/Chart.js/dist/Chart.min.js"></script>
    <!-- gauge.js -->
    <script src="/static/vendors/bernii/gauge.js/dist/gauge.min.js"></script>
    <!-- bootstrap-progressbar -->
    <script src="/static/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
    <!-- iCheck -->
    <script src="/static/vendors/iCheck/icheck.min.js"></script>
    <!-- Skycons -->
    <script src="/static/vendors/skycons/skycons.js"></script>
    <!-- Flot -->
    <script src="/static/vendors/Flot/jquery.flot.js"></script>
    <script src="/static/vendors/Flot/jquery.flot.pie.js"></script>
    <script src="/static/vendors/Flot/jquery.flot.time.js"></script>
    <script src="/static/vendors/Flot/jquery.flot.stack.js"></script>
    <script src="/static/vendors/Flot/jquery.flot.resize.js"></script>
    <!-- Flot plugins -->
    <script src="/static/js/flot/jquery.flot.orderBars.js"></script>
    <script src="/static/js/flot/date.js"></script>
    <script src="/static/js/flot/jquery.flot.spline.js"></script>
    <script src="/static/js/flot/curvedLines.js"></script>
    <!-- jVectorMap -->
    <script src="/static/js/maps/jquery-jvectormap-2.0.3.min.js"></script>
    <!-- bootstrap-daterangepicker -->
    <script src="/static/js/moment/moment.min.js"></script>
    <script src="/static/js/datepicker/daterangepicker.js"></script>

    <!-- Custom Theme Scripts -->
    <script src="/static/build/js/custom.min.js"></script>

    <!-- jVectorMap -->
    <script src="/static/js/maps/jquery-jvectormap-world-mill-en.js"></script>
    <script src="/static/js/maps/jquery-jvectormap-us-aea-en.js"></script>
    <script src="/static/js/maps/gdp-data.js"></script>
    <!-- /jVectorMap -->
    <!--sweetAlert -->
    <script src="/static/vendors/alert/sweet-alert.min.js"></script>

    <!-- dataTables -->
    <script src="/static/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="/static/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>

    <!-- Echarts3 -->
    <script src="/static/vendors/echarts/echarts.min.js"></script>
    <script src="/static/vendors/echarts/macarons.js"></script>
    <!-- /Echarts3 -->

    <!-- Skycons -->
    <!-- /Skycons -->

    <!-- Doughnut Chart -->
    <!-- /Doughnut Chart -->

    <!-- bootstrap-daterangepicker -->
    <!-- /bootstrap-daterangepicker -->

    <!-- gauge.js -->
    <!-- /gauge.js -->

    <!-- 获取用户名 -->
    <script>
        $.getJSON('/user/get_name', function(data) {
            console.log(data)
            $('#username').html(data)
         })
    </script>
    <!-- 获取用户名 -->

<!-- js 展示 -->
<script>
    //故障统计
    var myChart1 = echarts.init(document.getElementById('main_fail'),'macarons');
    option1 = {
        title: {
            show: false ,
            text: ''
        },
        tooltip : {
            trigger: 'axis'
        },
        grid: {
            left: '3%',
            right: '4%',
            bottom: '3%',
            containLabel: true
        },
        xAxis : [
            {
                type : 'category',
                boundaryGap : false,
                data : ['Jan','Feb','Mar','Apr','May','June','july'],
                //name: "日期",
                //nameLocation: "middle",
                //nameGap:"23"
            }
        ],
        yAxis : [
            {
                type : 'value',
                name: "时长/分钟"
            }
        ],
        series : [

            {
                name:'故障时长',
                center: ['50%', '50%'],
                type:'line',
                areaStyle: {normal: {}},
                data:[80, 232, 201, 500, 200, 330, 10]
            },

        ]
    };
myChart1.setOption(option1);

    // 监控告警统计
    var myChart2 = echarts.init(document.getElementById('main_alarm'),'macarons');
    option2 = {
    title : {
        show: false
        //text: '',
        //subtext: '',
        //x:'center'
    },
    tooltip : {
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
   },
    legend: {
        show: false,
        orient : 'vertical',
        x : 'left',
        data:['数据库','网络','系统','应用','日志']
    },
    calculable : true,
    series : [
        {
            name:'告警详情',
            type:'pie',
            radius : '60%',
            center: ['50%', '50%'],
            data:[
                {value:40, name:'数据库'},
                {value:30, name:'网络'},
                {value:20, name:'系统'},
                {value:15, name:'应用'},
                {value:100, name:'日志'},
            ],
            itemStyle:{
            normal:{
                  label:{
                    //show: true,
                    // formatter: '{b} : {c} ({d}%)'
                  },
                  labelLine :{show:true}
                }
            }
        }
    ]
};
myChart2.setOption(option2);

    // 故障分类
    var myChart3 = echarts.init(document.getElementById('main_fail_classify'),'macarons');
    option3 = {
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b}: {c} ({d}%)"
        },
        legend: {
            show: true,
            orient: 'vertical',
            x: 'left',
            data:['网络','系统','应用','供应商']
        },
        series: [
            {
                name:'故障来源',
                type:'pie',
                radius: ['50%','60%'],
                avoidLabelOverlap: false,
                label: {
                    normal: {
                        show: false,
                        position: 'center'
                    },
                    emphasis: {
                        show: true,
                        textStyle: {
                            fontSize: '30',
                            fontWeight: 'bold'
                        }
                    }
                },
                labelLine: {
                    normal: {
                        show: false
                    }
                },
                data:[
                    {value:2, name:'网络'},
                    {value:10, name:'系统'},
                    {value:3, name:'供应商'},
                    {value:20, name:'应用'},
                ]
            }
        ]
    };
myChart3.setOption(option3);

    //版本发布情况
    var myChart4 = echarts.init(document.getElementById('main_publish'),'macarons');
    option4 = {
        tooltip : {
            trigger: 'axis'
        },
        legend: {
            data:['后台','官网']
        },
    grid: {
        left: '3%',
        right: '4%',
        bottom: '3%',
        containLabel: true
    },
        calculable : true,
        xAxis : [
            {
                type : 'category',
                data : ['Jan 02','Jan 05','Jan 07','Jan 09','Jan 12']
            }
        ],
        yAxis : [
            {
                type : 'value',
                name: '发布次数'
            }
        ],
        series : [
            {
                name:'后台',
                type:'bar',
                data:[2, 3, 5, 1, 3],
            },
            {
                name:'官网',
                type:'bar',
                data:[1, 3, 8, 4, 2],
            }
        ]
    };
myChart4.setOption(option4);

    // 发布统计
    var myChart5 = echarts.init(document.getElementById('main_publish_sum'),'macarons');
    var labelTop = {
        normal : {
            label : {
                show : true,
                position : 'center',
                formatter : '{b}',
                textStyle: {
                    baseline : 'bottom'
                }
            },
            labelLine : {
                show : false
            }
        }
    };
    var labelFromatter = {
        normal : {
            label : {
                formatter : function (params){
                    return 100 - params.value
                },
                textStyle: {
                    baseline : 'top',
                    fontSize: 25
                }
            }
        },
    }
    var labelBottom = {
        normal : {
            color: '#ccc',
            label : {
                show : true,
                position : 'center'
            },
            labelLine : {
                show : false
            }
        },
        emphasis: {
            color: 'rgba(0,0,0,0)'
        }
    };
    var radius = [100, 80];
    option5 = {
        series : [
            {
                type : 'pie',
                center : ['50%','50%'],
                radius : radius,
                itemStyle : labelFromatter,
                data : [
                    {name:'other', value:25, itemStyle : labelBottom},
                    {name:'发布次数', value:75,itemStyle : labelTop}
                ]
            },
        ]
    };
myChart5.setOption(option5);


</script>

<!-- /js 展示 -->
  </body>
</html>
